(this["webpackJsonpyandex-music-token"]=this["webpackJsonpyandex-music-token"]||[]).push([[0],{18:function(e,t,n){e.exports=n(30)},30:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(11),o=n.n(c),s=n(12),i=n(16),u=n(13),l=n(17),p=n(5),h=n.n(p),d=n(6),b=n(14),f=n(7),m=(n(24),n(25),n(32)),y=n(33),O=n(34);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=function e(){var t=this;Object(f.a)(this,e),this.oauth_url="https://oauth.yandex.ru",this.client_id="23cabbbdc6cd418abb4b39c32c41195d",this.client_secret="53bc75238f0c4d08a118e51fe9203300",this.generate_token_by_username_and_password=function(){var e=Object(b.a)(h.a.mark((function e(n,r,a,c){var o,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="".concat(t.oauth_url,"/token"),s={grant_type:"password",client_id:t.client_id,client_secret:t.client_secret,username:n,password:r},a&&c&&(s=j({},s,{x_captcha_answer:a,x_captcha_key:c})),console.log(o,s),e.next=6,t.post(o,s).then((function(e){return e.json()})).then((function(e){return e.access_token}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),this.post=function(e,t){return fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","User-Agent":"Yandex-Music-API","X-Yandex-Music-Client":"WindowsPhone/3.20"},body:JSON.stringify(t)}).then((function(e){if(!e.ok)throw Error("Response is not ok :(");return e}))}},g=function(e){function t(){var e,n;Object(f.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).api=new w,n.handleChange=function(e){var t=e.target,r=t.name,a=t.value;n.setState(j({},n.state,Object(d.a)({},r,a)))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,r=t.username,a=t.password;n.api.generate_token_by_username_and_password(r,a).then((function(e){alert(e)})).catch((function(e){alert("An error has occurred: ".concat(e))}))},n}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(m.a,null,a.a.createElement(y.a,null,a.a.createElement(y.a.Group,{controlId:"formBasicEmail"},a.a.createElement(y.a.Label,{column:!1},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d, \u043f\u043e\u0447\u0442\u0443 \u0438\u043b\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d:"),a.a.createElement(y.a.Control,{name:"username",onChange:this.handleChange,type:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d, \u043f\u043e\u0447\u0442\u0443 \u0438\u043b\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d"})),a.a.createElement(y.a.Group,{controlId:"formBasicPassword"},a.a.createElement(y.a.Label,{column:!1},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"),a.a.createElement(y.a.Control,{name:"password",onChange:this.handleChange,type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"})),a.a.createElement(O.a,{variant:"primary",type:"submit",block:!0,onClick:this.handleSubmit},"\u0412\u043e\u0439\u0442\u0438")))}}]),t}(r.Component);o.a.render(a.a.createElement(g,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.4631540d.chunk.js.map